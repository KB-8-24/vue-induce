"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[559],{4559:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"quillEditor"},[l("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.serverUrl,name:"Filedata",headers:e.header,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}}),l("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.quillUpdateImg,expression:"quillUpdateImg"}]},[l("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)},ready:function(t){return e.onEditorReady(t)}},model:{value:e.detailContent,callback:function(t){e.detailContent=t},expression:"detailContent"}})],1)],1)])},i=[];const o=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]];var a={data(){return{quillUpdateImg:!1,serverUrl:"/api/1.0.0/platform/pub/file/upload/image",header:{token:sessionStorage.token},detailContent:"",editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:o,handlers:{image:function(e){e?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}}}},methods:{beforeUpload(){this.quillUpdateImg=!0},uploadSuccess(e){let t=this.$refs.myQuillEditor.quill;if(0===e.code){let l=t.getSelection().index;t.insertEmbed(l,"image","http://192.168.6.20:8099"+e.data.file_url),t.setSelection(l+1)}else this.$message.error("图片插入失败");this.quillUpdateImg=!1},uploadError(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")},onEditorReady(){},onEditorChange(){}}},n=a,d=l(3736),s=(0,d.Z)(n,r,i,!1,null,"4272b8c3",null),u=s.exports}}]);
//# sourceMappingURL=559.a7472f02.js.map