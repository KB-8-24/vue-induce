{"version":3,"file":"js/559-legacy.ae5e6472.js","mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAY,CAACE,YAAY,kBAAkBC,MAAM,CAAC,OAASP,EAAIQ,UAAU,KAAO,WAAW,QAAUR,EAAIS,OAAO,kBAAiB,EAAM,aAAaT,EAAIU,cAAc,WAAWV,EAAIW,YAAY,gBAAgBX,EAAIY,gBAAgBR,EAAG,SAAS,CAACS,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOhB,EAAkB,eAAEiB,WAAW,oBAAoB,CAACb,EAAG,eAAe,CAACc,IAAI,gBAAgBX,MAAM,CAAC,QAAUP,EAAImB,cAAcC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOrB,EAAIsB,eAAeD,IAAS,MAAQ,SAASA,GAAQ,OAAOrB,EAAIuB,cAAcF,KAAUG,MAAM,CAACR,MAAOhB,EAAiB,cAAEyB,SAAS,SAAUC,GAAM1B,EAAI2B,cAAcD,GAAKT,WAAW,oBAAoB,IAAI,MACvyBW,EAAkB,GC8BtB,GACA,uCACA,4BAEA,EAAE,OAAFnB,GAAA,CAAE,OAAFA,IACA,EAAE,KAAFoB,WAAA,CAAE,KAAFA,WACA,EAAE,OAAFC,OAAA,CAAE,OAAFA,UACA,EAAE,OAAFC,MAAA,CAAE,OAAFA,OACA,EAAE,UAAFC,QAEA,EAAE,KAAFC,CAAAA,SAAAA,EAAAA,QAAAA,UACA,EAAE,OAAFxB,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,KAEA,EAAE,MAAFyB,IAAA,CAAE,WAAFC,KACA,EAAE,KAAFC,KACA,EAAE,MAAFC,KACA,yBACA,WAEA,GACE,KADF,WAEI,MAAJ,CACM,gBAANC,EACM,UAAN9B,4CACM,OAANC,CAAQ,MAAR8B,eAAAA,OACM,cAANZ,GACM,aAANR,CACQ,YAARqB,GACQ,MAARC,OACQ,QAARC,CACU,QAAVC,CACY,UAAZC,EACY,SAAZC,CACc,MAAdC,SAAAA,GACA,EAEkB,SAAlBC,cAAAA,0BAAAA,QAEkB,KAAlB,gCASE,QAAFC,CAEI,aAFJ,WAIM,KAAN,mBAEI,cANJ,SAMAC,GAGM,IAAN,iCAEM,GAAN,YAEQ,IAAR,yBAEQ,EAARC,YAAAA,EAAAA,QAAAA,2BAAAA,EAAAA,KAAAA,UAEQ,EAARA,aAAAA,EAAAA,QAEQ,KAAR,yBAGM,KAAN,mBAGI,YAzBJ,WA2BM,KAAN,kBACM,KAAN,0BAEI,cA9BJ,aA+BI,eA/BJ,eC9E2T,I,UCQvTC,GAAY,OACd,EACApD,EACA6B,GACA,EACA,KACA,WACA,MAIF,EAAeuB,EAAiB","sources":["webpack://vue/./src/views/page/vue-quill-editor/VueQuillEditor2.vue?75e7","webpack://vue/src/views/page/vue-quill-editor/VueQuillEditor2.vue","webpack://vue/./src/views/page/vue-quill-editor/VueQuillEditor2.vue?15e5","webpack://vue/./src/views/page/vue-quill-editor/VueQuillEditor2.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"quillEditor\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.serverUrl,\"name\":\"Filedata\",\"headers\":_vm.header,\"show-file-list\":false,\"on-success\":_vm.uploadSuccess,\"on-error\":_vm.uploadError,\"before-upload\":_vm.beforeUpload}}),_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.quillUpdateImg),expression:\"quillUpdateImg\"}]},[_c('quill-editor',{ref:\"myQuillEditor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":function($event){return _vm.onEditorChange($event)},\"ready\":function($event){return _vm.onEditorReady($event)}},model:{value:(_vm.detailContent),callback:function ($$v) {_vm.detailContent=$$v},expression:\"detailContent\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"quillEditor\">\r\n            <!-- 图片上传组件辅助-->\r\n            <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"serverUrl\"\r\n                name=\"Filedata\"\r\n                :headers=\"header\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"uploadSuccess\"\r\n                :on-error=\"uploadError\"\r\n                :before-upload=\"beforeUpload\"\r\n            >\r\n            </el-upload>\r\n            <!--富文本编辑器组件-->\r\n            <el-row v-loading=\"quillUpdateImg\">\r\n                <quill-editor\r\n                    v-model=\"detailContent\"\r\n                    ref=\"myQuillEditor\"\r\n                    :options=\"editorOption\"\r\n                    @change=\"onEditorChange($event)\"\r\n                    @ready=\"onEditorReady($event)\"\r\n                >\r\n                </quill-editor>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n// 工具栏配置\r\nconst toolbarOptions = [\r\n    [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\r\n    [\"blockquote\", \"code-block\"],\r\n\r\n    [{ header: 1 }, { header: 2 }], // custom button values\r\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n    [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\r\n    [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\r\n    [{ direction: \"rtl\" }], // text direction\r\n\r\n    [{ size: [\"small\", false, \"large\", \"huge\"] }], // custom dropdown\r\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n    [{ color: [] }, { background: [] }], // dropdown with defaults from theme\r\n    [{ font: [] }],\r\n    [{ align: [] }],\r\n    [\"link\", \"image\", \"video\"],\r\n    [\"clean\"] // remove formatting button\r\n]\r\nexport default {\r\n    data() {\r\n        return {\r\n            quillUpdateImg: false, // 根据图片上传状态来确定是否显示loading动画，刚开始是false,不显示\r\n            serverUrl: \"/api/1.0.0/platform/pub/file/upload/image\", // 这里写你要上传的图片服务器地址\r\n            header: { token: sessionStorage.token }, // 有的图片服务器要求请求头需要有token之类的参数，写在这里\r\n            detailContent: \"\", // 富文本内容\r\n            editorOption: {\r\n                placeholder: \"\",\r\n                theme: \"snow\", // or 'bubble'\r\n                modules: {\r\n                    toolbar: {\r\n                        container: toolbarOptions, // 工具栏\r\n                        handlers: {\r\n                            image: function (value) {\r\n                                if (value) {\r\n                                    // 触发input框选择图片文件\r\n                                    document.querySelector(\".avatar-uploader input\").click()\r\n                                } else {\r\n                                    this.quill.format(\"image\", false)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } // 富文本编辑器配置\r\n        }\r\n    },\r\n    methods: {\r\n        // 上传图片前\r\n        beforeUpload() {\r\n            // 显示loading动画\r\n            this.quillUpdateImg = true\r\n        }, // 上传图片成功\r\n        uploadSuccess(res) {\r\n            // res为图片服务器返回的数据\r\n            // 获取富文本组件实例\r\n            let quill = this.$refs.myQuillEditor.quill\r\n            // 如果上传成功\r\n            if (res.code === 0) {\r\n                // 获取光标所在位置\r\n                let length = quill.getSelection().index\r\n                // 插入图片  res.data.file_url\r\n                quill.insertEmbed(length, \"image\", \"http://192.168.6.20:8099\" + res.data.file_url)\r\n                // 调整光标到最后\r\n                quill.setSelection(length + 1)\r\n            } else {\r\n                this.$message.error(\"图片插入失败\")\r\n            }\r\n            // loading动画消失\r\n            this.quillUpdateImg = false\r\n        },\r\n        // 富文本图片上传失败\r\n        uploadError() {\r\n            // loading动画消失\r\n            this.quillUpdateImg = false\r\n            this.$message.error(\"图片插入失败\")\r\n        },\r\n        onEditorReady() {},\r\n        onEditorChange() {}\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.quill-editor {\r\n    height: 300px;\r\n}\r\n.quillEditor {\r\n    width: 80%;\r\n    margin: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VueQuillEditor2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VueQuillEditor2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueQuillEditor2.vue?vue&type=template&id=4272b8c3&scoped=true&\"\nimport script from \"./VueQuillEditor2.vue?vue&type=script&lang=js&\"\nexport * from \"./VueQuillEditor2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueQuillEditor2.vue?vue&type=style&index=0&id=4272b8c3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4272b8c3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","serverUrl","header","uploadSuccess","uploadError","beforeUpload","directives","name","rawName","value","expression","ref","editorOption","on","$event","onEditorChange","onEditorReady","model","callback","$$v","detailContent","staticRenderFns","list","script","indent","direction","size","color","background","font","align","quillUpdateImg","token","placeholder","theme","modules","toolbar","container","handlers","image","document","methods","res","quill","component"],"sourceRoot":""}